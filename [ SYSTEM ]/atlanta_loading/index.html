<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="stylesheet" href="./style.css">
  <link href="https://fonts.googleapis.com/css?family=Muli:700&display=swap" rel="stylesheet"> 
</head>
<body>
  <audio id="loading" src="" autoplay="true" hidden="true" loop="true"></audio>
  <script>
    var musica = Math.floor(Math.random() * 5);
    var source = document.getElementById('loading');
    source.src = 'music/music'+musica+'.mp3';
  </script>
<div class="bg-wrapper">
  <div class="bg-img active"></div>
  <div class="bg-img"></div>
  <div class="bg-img"></div>
  <div class="bg-img"></div>
  <div class="bg-img"></div>
  <div class="bg-img"></div>
</div>

<div class="center">
  <div class="loadbar"><div class="thingy"></div></div>
    <h3 class="description">DESCRIÇÃO</h3>
    <h3 class="description-p">Seja bem vindo ao Atlanta RP.<br>
      Aqui nós fazemos RP americano com base na cidade de Atlanta/GA.<br>
      Leia as regras no discord e se divirta.<br></h3>
    <h3 class="name">A T L A N T A</h3>
    <h3 class="infos">Informações</h3>
    <h3 class="gamemode">RP:&nbsp;<span class="infos-color">Americano (Atlanta)</span></h3>
    <h3 class="players-max">Slots:&nbsp;<span class="infos-color">64</span></h3>
    <h3 class="discord">discord.gg/<span class="infos-color">123321</span></h3>
</div>


  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js'></script><script  src="./script.js"></script>
  <script>
      var play = false;
              var vid = document.getElementById("loading");
              vid.volume = 0.5;
              window.addEventListener('keyup', function(e)
              {
                  if (e.which == 69){
                      vid.volume = Math.min(vid.volume + 0.1,1);
                  } else if(e.which == 65){
                      vid.volume = Math.max(vid.volume - 0.1,0);
                  };
              });
      
              var audio = document.querySelector('audio');
      
              if (audio) {
      
              window.addEventListener('keydown', function (event) {
      
              var key = event.which || event.keyCode;
      
              if (key === 32) { // spacebar
      
              event.preventDefault();
      
              audio.paused ? audio.play() : audio.pause();
            
          }
      
        });
      }
      </script>
  
  <script type="text/javascript">
  
  var count = 0;
  var thisCount = 0;
  
  const handlers = {
   startInitFunctionOrder(data)
   {
       count = data.count;
  
       document.querySelector('.letni h3').innerHTML += emoji[data.type][data.order - 1] || '';
   },
  
   initFunctionInvoking(data)
   {
       document.querySelector('.thingy').style.left = '0%';
       document.querySelector('.thingy').style.width = ((data.idx / count) * 100) + '%';
   },
  
   startDataFileEntries(data)
   {
       count = data.count;
  
       document.querySelector('.letni h3').innerHTML += "\u{1f358}";
   },
  
   performMapLoadFunction(data)
   {
       ++thisCount;
  
       document.querySelector('.thingy').style.left = '0%';
       document.querySelector('.thingy').style.width = ((thisCount / count) * 100) + '%';
   },
  
   onLogLine(data)
   {
       document.querySelector('.letni p').innerHTML = data.message + "..!";
   }
  };
  
  window.addEventListener('message', function(e)
  {
   (handlers[e.data.eventName] || function() {})(e.data);
  });
  </script>
  
</body>
</html>
